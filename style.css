/* Reset + base */
* { box-sizing: border-box; }
html, body { height: 100%; margin: 0; }
body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  background: #000; /* avoids white gutters while image loads */
  color: #0f1111;
}

/* Full-bleed screenshot */
.stage { position: relative; width: 100vw; height: 100vh; overflow: hidden; }
.mock  { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; object-position: center top; display: block; }

/* ── Tweak knobs (adjust these only) ───────────────────────────── */
:root{
  /* CTA card position & size (relative to screenshot) */
  --cta-top: 12.2%;     /* nudge up/down to sit in the right “lane” */
  --cta-left: 6.2%;     /* nudge left/right */
  --cta-maxw: 560px;    /* width of the card on desktop */
  --cta-pad-y: 12px;    /* vertical padding inside card */
  --cta-pad-x: 14px;    /* horizontal padding inside card */

  /* Assistant panel insets (bigger % = smaller panel) */
  --panel-inset-top: 14%;
  --panel-inset-right: 22%;
  --panel-inset-bottom: 14%;
  --panel-inset-left: 22%;

  /* Walmart-ish palette */
  --wm-blue: #0071ce;
  --wm-blue-hover: #005ea3;
  --ink: #0f1111;
  --ink-subtle: #2f3133;
  --card-bg: rgba(255,255,255,0.96);
  --card-brd: rgba(15,17,17,0.12);
  --shadow-sm: 0 6px 18px rgba(0,0,0,0.12);
  --shadow-lg: 0 24px 60px rgba(0,0,0,0.28);
}

/* CTA card — pinned, solid, Walmart-like */
.cta-card{
  position: absolute;
  top: var(--cta-top); left: var(--cta-left);
  display: flex; align-items: center; gap: 12px;
  max-width: var(--cta-maxw);
  padding: var(--cta-pad-y) var(--cta-pad-x);
  border-radius: 12px;
  background: var(--card-bg);
  border: 1px solid var(--card-brd);
  box-shadow: var(--shadow-sm);
}
.cta-text{
  display:flex; flex-direction:column; gap: 4px; min-width: 0;
}
.cta-title{
  font-weight: 600; font-size: 14px; color: var(--wm-blue);
  letter-spacing: .2px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.cta-sub{
  font-size: 12.5px; color: #4a4d50;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}

/* Walmart button */
.cta-btn{
  margin-left: auto;
  background: var(--wm-blue); color:#fff;
  font-weight: 700; font-size: 13.5px; line-height: 1;
  border: 1px solid rgba(0,0,0,0.03);
  border-radius: 999px; padding: 9px 14px;
  cursor: pointer;
}
.cta-btn:hover{ background: var(--wm-blue-hover); }

/* Backdrop keeps Walmart visible but clearly “modal” */
.backdrop {
  position: absolute; inset: 0;
  background: rgba(0,0,0,0.35);
  backdrop-filter: saturate(1.1);
  z-index: 5;
}

/* Centered assistant panel */
.assistant-panel{
  position: absolute;
  inset: var(--panel-inset-top) var(--panel-inset-right) var(--panel-inset-bottom) var(--panel-inset-left);
  display: flex; flex-direction: column; background: #fff;
  border: 1px solid rgba(15,17,17,0.12); border-radius: 18px;
  box-shadow: var(--shadow-lg); overflow: hidden; z-index: 6;
}

/* Panel header */
.panel-bar{
  display: flex; align-items: center; justify-content: space-between; gap: 8px;
  padding: 10px 12px; border-bottom: 1px solid rgba(15,17,17,0.12);
  background: rgba(255,255,255,0.97);
}
.panel-title{ font-weight: 600; font-size: 14px; color: var(--ink-subtle); display: inline-flex; gap: 8px; align-items: center; }
.panel-title .spark{ color: var(--wm-blue); font-size: 13px; }
.panel-actions{ display: inline-flex; gap: 10px; align-items: center; }
.open-tab{ font-size: 13px; color: var(--wm-blue); text-decoration: none; }
.open-tab:hover{ text-decoration: underline; }
.panel-close{
  display: inline-flex; align-items: center; justify-content: center;
  width: 28px; height: 28px; border-radius: 8px;
  background: #f3f4f6; border: 1px solid rgba(15,17,17,0.12);
  cursor: pointer; color: #333; font-size: 18px; line-height: 1;
}
.panel-close:hover{ background: #e9eaec; }

/* Iframe fills panel */
.assistant-frame{ border: 0; width: 100%; height: 100%; }

/* Fallback note */
.fallback-note{
  position: absolute; bottom: 10px; left: 12px; right: 12px;
  font-size: 12.5px; color: var(--ink-subtle);
  background: rgba(255,255,255,0.95);
  border: 1px solid rgba(15,17,17,0.10); border-radius: 8px;
  padding: 8px 10px;
}
.fallback-note a{ color: var(--wm-blue); text-decoration: none; }
.fallback-note a:hover{ text-decoration: underline; }

/* Animations */
.panel-in{ animation: panelIn 200ms ease-out; }
.fade-out{ animation: fadeOut 160ms ease-in forwards; }
@keyframes panelIn{ from{ opacity:0; transform: translateY(8px) scale(.992); } to{ opacity:1; transform: translateY(0) scale(1); } }
@keyframes fadeOut{ from{ opacity:1; transform: translateY(0) scale(1); } to{ opacity:0; transform: translateY(-8px) scale(.992); } }

/* Phone tweaks */
@media (max-width: 960px){
  :root{
    --cta-top: 10.6%;
    --cta-left: 4.6%;
    --cta-maxw: 88vw;
    --panel-inset-right: 8%;
    --panel-inset-left: 8%;
    --panel-inset-top: 15%;
    --panel-inset-bottom: 15%;
  }
  .cta-title{ font-size: 13.5px; }
  .cta-sub{ font-size: 12px; }
  .cta-btn{ font-size: 13px; padding: 8px 12px; }
}

/* Accessibility helper */
.sr-only{
  position: absolute !important; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,1px,1px); white-space:nowrap; border:0;
}
